# =================================================================
# ê°ë° íê²½ ì ì© ì¤ì  (Profile: dev)
# ì§ì¹¨ì ëªì¸: íê²½ë³ì/ìí¬ë¦¿ ë¶ë¦¬, íì¤í¸/ì´ì íê²½ ë¶ë¦¬
# =================================================================

# ìë² í¬í¸ ì¤ì  (ê°ë°ì©)
server.port=9000

# JPA/Hibernate ì¤ì  (ê°ë°ì©)
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# ===============================
# DB Connection Pool Setting
# ===============================
# To prevent "FATAL: sorry, too many clients already" errors, explicitly set the max pool size.
spring.datasource.hikari.maximum-pool-size=5

# Redis ì¤ì  (ê°ë°ì© - ìì¼ë©´ ë¹íì±í)
# Redis íê²½ë³ì ë§¤í ë° ê¸°ë³¸ê°
# Redis (Spring Boot 3.x íì¤ í¤)
spring.data.redis.host=${SPRING_REDIS_HOST:redis}
spring.data.redis.port=${SPRING_REDIS_PORT:6379}
spring.data.redis.timeout=3s
spring.data.redis.repositories.enabled=false

# ì± ì»¤ì¤í ì¤í¸ë¦¼ ì¤ì (ì ì§)
spring.redis.stream.key=${REDIS_STREAM_KEY:orders-stream}
spring.redis.stream.read-timeout=1000
spring.redis.stream.batch-size=10

# íì ì ì»¨ìë¨¸ ê·¸ë£¹/ì´ë¦ (ë¤ê° ì°ë ì»¤ì¤í í¤ë©´ ì ì§)
redis.stream.consumer-group=${REDIS_STREAM_CONSUMER_GROUP:lago_group}
redis.stream.consumer-name=${REDIS_STREAM_CONSUMER_NAME:lago_consumer}

# ë¡ê¹ ì¤ì  (ìì¸ ëë²ê¹)
logging.level.com.example.LAGO=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.org.springframework.web=DEBUG

# Spring Security ë¹íì±í (ê°ë°ì©)
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration

# Swagger UI ì¤ì 
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.enabled=true

# FinBERT ê°ì  ë¶ì ìë² ì¤ì  (ê°ë°ì©)
finbert.server.host=http://localhost:5000
finbert.server.analyze-endpoint=/analyze
finbert.server.health-endpoint=/health
finbert.client.timeout=10000

# ê°ë°ì© Mock ë°ì´í° ì¤ì 
app.mock.enable-sample-data=true
app.mock.ai-bot-count=4

# Virtual Thread ì¤ì  (Java 21)
spring.threads.virtual.enabled=true

# ìºì ì¤ì  (ê°ë°ì© - ê°ë¨í ì¤ì )
spring.cache.type=simple

management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always

# ììì¡°ì¹_ì¤ì¼ì¤ë¬ ëê¸°(ê°ë°ë§)
spring.task.scheduling.enabled=false
